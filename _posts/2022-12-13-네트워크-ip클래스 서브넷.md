---
layout: article
title: "[네트워크] IP클래스와 서브넷 "
subtitle: "네트워크 기초공부"
date: 2022-12-13 16:05:00 +0900
lastmod: 2022-12-14 17:50:00 +0900
tags: 
  - 네트워크

---
<br><br>
IP클래스와 서브넷 

<!--more-->  
# IP란?

IP(Internet Protocol) 란 인터넷에 연결되어 있는 모든 장치들(컴퓨터, 서버 장비, 스마트폰 등)을 식별할 수 있도록 각각의 장비에게 부여되는 고유 주소이다.

## IP 주소구성

아이피는 Network ID + Host ID로 구성된다.<br/>
| | |
|:-----:|:----:|
|Network ID |한 네트워크의 범위를 지정한 IP|
|Host ID |각각의 호스트를 관리하기 위해 사용|


`Network ID는 국가코드, Host ID는 주민등록번호` 로 생각하면 편할것같다.<br/>

[예시] 192.168.10.`10` → 11000000.10101000.00001010.`00001010`

|Network Id|Host Id|
|:-----:|:----:|
|11000000.10101000.00001010|00001010|



## IP 클래스

IP주소는 8비트로 4등분을 하여 각각을 옥텟(Octets)이라고 부르며 0~255의 범위로 256개가 들어갈 수 있다.<br/>

<img width="716" alt="스크린샷 2022-12-13 오후 4 23 39" src="https://user-images.githubusercontent.com/99805929/207252626-466b714b-d390-4c72-9f64-c9c6e1506b2e.png"><br/>

이 옥텟별로 IP주소의 클래스를 `A,B,C` 로 나눌 수 있다.<br/>

<img width="534" alt="스크린샷 2022-12-13 오후 4 29 32" src="https://user-images.githubusercontent.com/99805929/207253382-cdabc4ef-b484-41db-a724-90accca49b1d.png"><br/>
<img width="762" alt="스크린샷 2022-12-13 오후 4 31 21" src="https://user-images.githubusercontent.com/99805929/207253521-93d225d1-145a-459e-9a58-72b81a00cb76.png"><br/>

### A 클래스

- A Class의 경우 처음 8bit(1byte)가 Network ID이며, 나머지 24bit(3byte)가 Host ID로 사용된다.<br/>
- A클래스의 첫번째 옥텟의 비트는 0으로 고정된다.<br/>
- 따라서 A Class의 범위는 첫 옥텟이 1 ~ 126 사이의 숫자로 시작한다.<br/>
- A클래스는 호스트ID 대역이 24bit이므로, 네트워크 당 나올 수 있는 호스트 주소 갯수는 1670만개 이므로, 대규모 네트워크에 적합하다,<br/>

### B 클래스

- B Class의 경우 처음 16bit(2byte)가 Network ID이며, 나머지 16bit(2byte)가 Host ID로 사용된다.<br/>
- B클래스는 첫번째 옥텟의 두번째 비트가 10으로 고정이 된다.<br/>
- 네트워크 주소는 처음 16비트이며 호스트 주소는 나머지 16비트<br/>
- 따라서 B Class의 범위는 첫 옥텟이 128 ~ 191 사이의 숫자로 시작한다.<br/>
- host 대역이 16bit 이므로 네트워크 당 나올 수 있는 호스트 수는 약 65000개 이므로 중규모 네트워크에 적합하다.<br/>

### C 클래스

- C Class의 경우 처음 24bit(3byte)가 Network ID이며, 나머지 8bit(1byte)가 Host ID로 사용된다.<br/>
- C클래스는 첫번째 옥텟의 세번째 비트가 110으로 고정.<br/>
- 네트워크 주소는 처음 24비트이며 나머지 8비트는 호스트 비트<br/>
- 따라서 C Class의 범위는 첫 옥텟이 192 ~ 223 사이의 숫자로 시작한다.<br/>
- host 대역이 256개이므로 소규모 네트워크 환경에 적합하다.<br/>

## 네트워크 주소 & 브로드캐스트 주소

가장 첫번째 호스트 주소는 네트워크자체를 지칭하며, 마지막 주소는 브로드캐스트용 주소로 쓰여 `사용할 수 없다.`<br/>

<img width="762" alt="스크린샷 2022-12-13 오후 4 31 21" src="https://user-images.githubusercontent.com/99805929/207258824-4b259cb4-fe20-4caf-adc7-764fd9f8cec6.png"><br/>

<img width="762" alt="스크린샷 2022-12-13 오후 4 31 21" src="https://user-images.githubusercontent.com/99805929/207258986-077505e6-ea0d-44ee-ad47-ff7f0201cd2d.png"><br/>


## 서브넷(Subnet)

초기에 IPv4는 부족한 IP주소 문제를 해결하기 위해 IP를 클래스로 나누어 할당하였다.<br/>
어떤 중소기업에 A클래스 IP를 할당하였는데 B클래스에서 사용가능한 IP 6만여개 중 1만개만 사용한다면
나머지 5만여개는 사용하지 않은 상태로 남겨져있게 된다. 그렇다고 C클래스(256개)를 할당하자니 너무 부족하다.<br/>

이러한 문제를 해결하기 위해 IP를 사용하는 네트워크 장치 수에 따라 효율적으로 사용할 수 있는 `서브넷(Subnet)` 개념이 등장하게 되었다.

- `서브넷(Subnet)` 이라는 것은 하나의 네트워크가 분할되어 나눠진 작은 네트워크이다.
- 서브넷을 만들기위해 네트워크를 분할하는 것을 `서브네팅(Subnetting)`이라고 한다.
- 서브네팅을 하면 IP 할당 범위를 더 작은 단위로 쪼갤수 있게 된다.
- 그래서 만일 ip가 100개만 필요하다면 C클래스(256개)를 더 쪼개서 줄 수 있다.
- 그리고 이 서브네팅을 `서브넷 마스크(Subnet Mask)`를 통하여 계산되어 수행된다.

## 서브넷마스크(Subnet Mask)

서브넷 마스크는 IP주소와 똑같은 32비트 2진수로 표현된다.<br/>
여기서 아이피와 표현이 다른 점은 서브넷 마스크는 연속된 1과 연속된 0으로 구성되어있다는 것이다.<br/>
즉, 10011111.11011111.11110011.00000000 와 같이 1 중간에 0 이 들어오는 값은 가질 수 없고,
11111111.11111111.11111100.00000000의 1이 연속되거나 아닌 형태만 가질 수 있다는 말이다.<br/>

|클래스|대역|디폴트 서브넷 마스크|
|:-----:|:----:|:----:|
|A|0.0.0.0 ~ 127.255.255.255|255.0.0.0|
|B|128.0.0.0 ~ 191.255.255.255|255.255.0.0|
|C|192.0.0.0 ~ 223.255.255.255|255.255.255.0|


## Prefix 표현

서브넷 마스크를 위보다 더욱 간소화해서 표현할 수도 있다.
바로 비트를 이용한 방법인데, IP 주소가 192.168.0.1`/24` 라면 뒤에 `/24`가 서브넷 마스크를 표현한 것이다.<br/>

`/24` 라는 뜻은 32비트 중 앞에서부터 차례대로 1의 개수가 24개라는 의미이다. 나머지 32-24=16은 0으로 채워주면 서브넷 마스크 숫자가 되는 것이다.<br/>

`/24`  →  11111111.11111111.11111111.00000000<br/>

[예시]<br/>

10.10.10.10`/8` → A클래스<br/>
172.16.1.10`/16` → B클래스<br/>
192.168.100.10`/24` → C클래스<br/>

## 서브네팅(Subnetting)

서브네팅이란 간단하게 말하자면 IP주소를 효울적으로 나누어 사용하기 위한 방법을 일컫습니다.<br/>
네트워크 성능 보장, 자원을 효율적으로 분배하기 위해 네트워크 영역과 호스트 영역을 쪼개는 작업을 진행합니다.<br/>
여기서 여기서 중요한 점은 `' 중간에 0이 나오면 그 뒤로는 무조건 전부 다 0이어야 한다. '` 라는 규칙이 있습니다. 그래서 옥텟에 들어갈 수 있는 숫자가 제한되어 있습니다.

<img width="810" alt="스크린샷 2022-12-13 오후 5 31 50" src="https://user-images.githubusercontent.com/99805929/207265585-d364997b-3853-4611-b017-7318de36dc67.png">
<br/>

[예시]<br/>
P1) 211.100.10.0/24 네트워크를 각 서브넷당 55개의 Host를 할당할 수 있도록 서브넷팅 한다고 하자.<br/>

a) 서브넷 마스크를 구하시오.<br/>

풀이 : HostID 비트를 생각하면 쉽다. Host ID를 나타내는 비트가 6개라면 2^6-2=62개의 호스트를 할당할 수 있으므로 충분하다. 그렇다면 32개의 비트 중 26개가 서브넷 마스크의 bit개수이므로 1111111.11111111.11111111.11000000 가 서브넷 마스크가 될 것이다. 즉 255.255.255.192이다.<br/>

답 : 255.255.255.192<br/>

b) 서브넷의 개수를 구하시오.<br/>

풀이 : 기존 Network ID를 나타내는 비트보다 2개의 비트를 더 표현한다. 즉 2^2=4 개의 서브넷이 가능하다.<br/>

답 : 4개<br/>

 

c) 첫 번째 서브넷의 broadcast 주소를 구하시오.<br/>

풀이 : 이진법으로 생각해야 편하다. 211.100.10.0을 이진법으로 변환하면 11010011.01100100.00001010.00000000인데 첫 번째 서브넷이라고 했으므로 11010011.01100100.00001010.00111111 이 broadcast 주소이다.<br/> 즉 211.100.10.63<br/>

답 : 211.100.10.63<br/>

 

d) 마지막 서브넷의 network address를 구하시오.<br/>

풀이 : 마찬가지로 이진법으로 생각해야 편하다. 마지막 서브넷이므로 11010011.01100100.00001010.11000000이 정답이다. <br/> 즉 211.100.10.192<br/>
 
답 : 211.100.10.192<br/>

 

e) 두 번째 서브넷의 사용 가능한 IP 범위를 구하시오.<br/>

풀이 : 이진법으로 생각하면 편하다. 두번째 서브넷이므로 11010011.01100100.00001010.01000000부터 시작하는데, 이때 11010011.01100100.00001010.01000000과 11010011.01100100.00001010.01111111은 network address와 broadcast address 이므로 제외하면, 답은 211.100.10.65~211.100.10.126<br/>

답 : 211.100.10.65~211.100.10.126<br/>

<br/>
<br/>






# Reference

[Converting IP addresses into Binary](https://www.networkacademy.io/ccna/ipv4-subnetting/converting-ip-addresses-into-binary)<br/>
[IP address classes explained: A subnetting analogy](https://community.spiceworks.com/networking/articles/2494-ip-address-classes-explained-a-subnetting-analogy)<br/>
[서브넷팅 개념 및 하는법](https://captcha.tistory.com/7)<br/>
[[네트워크] 서브넷, 서브넷마스크, 서브넷팅이란? | 서브넷팅 예제](https://code-lab1.tistory.com/34)<br/>
[[NW] 🌐 IP 클래스 • 서브넷 마스크 • 서브넷팅 💯 완벽 이해하기](https://inpa.tistory.com/entry/WEB-IP-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%84%9C%EB%B8%8C%EB%84%B7-%EB%A7%88%EC%8A%A4%ED%81%AC-%EC%84%9C%EB%B8%8C%EB%84%B7%ED%8C%85-%EC%B4%9D%EC%A0%95%EB%A6%AC#A_%ED%81%B4%EB%9E%98%EC%8A%A4)




